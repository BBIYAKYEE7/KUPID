<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ë ¤ëŒ€í•™êµ í¬í„¸</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        @font-face {
            font-family: 'Pretendard';
            src: local('Pretendard'), local('Pretendard-Regular'), local('Pretendard Regular');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }
        
        @font-face {
            font-family: 'Pretendard';
            src: local('Pretendard-Bold'), local('Pretendard Bold'), local('PretendardBold');
            font-weight: 700;
            font-style: normal;
            font-display: swap;
        }
        
        * {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        }
        
        body, html {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        }
        
        button, input, textarea, select, a, span, div, p, h1, h2, h3, h4, h5, h6 {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        }
        
        .top-status-bar, .status-content, .session-info, .status-controls, .session-timer, .session-progress, .session-progress-fill, .login-settings-btn, .refresh-btn, .home-btn {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        }
        
        .modal, .modal-content, .modal-header, .modal-body, .modal-footer, .btn, .form-group, label, input, textarea, select {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        }
    </style>
</head>
<body>
    <!-- ê³ ì •ëœ ìƒë‹¨ ìƒíƒœ ë°” -->
    <div id="top-status-bar" class="top-status-bar">
        <div class="status-content">
            <div class="app-logo">
                <img src="./images/logo3.png" alt="ê³ ë ¤ëŒ€í•™êµ ë¡œê³ " class="ku-logo-small">
                <img src="./images/emblem4.png" alt="ê³ ë ¤ëŒ€í•™êµ ì— ë¸”ëŸ¼" class="ku-emblem-small">
            </div>
            <div class="session-info">
                <span id="session-timer" class="session-timer">ì„¸ì…˜: 30:00</span>
                <div class="session-progress">
                    <div id="session-progress-bar" class="session-progress-fill"></div>
                </div>
            </div>
            <div class="status-controls">
                <button id="login-settings-btn" class="login-settings-btn">
                    ğŸ” ë¡œê·¸ì¸ ì„¤ì •
                </button>
                <button id="refresh-btn" class="refresh-btn">ìƒˆë¡œê³ ì¹¨</button>
                <button id="home-btn" class="home-btn">í™ˆìœ¼ë¡œ</button>
                <button id="update-btn" class="update-btn" style="display: none;">
                    ğŸ”„ ì—…ë°ì´íŠ¸
                </button>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <div id="main-content" class="main-content">
        <!-- ì›¹ë·° ì»¨í…Œì´ë„ˆ -->
        <div id="webview-container" class="webview-container">
            <webview id="portal-webview" src="https://portal.korea.ac.kr/front/Main.kpd"
                     class="portal-webview" 
                     webpreferences="contextIsolation=yes,nodeIntegration=no,preload=./webview-preload.js"
                     disablewebsecurity="true" 
                     allowpopups="false"></webview>
        </div>
    </div>

    <!-- ì„¸ì…˜ ë§Œë£Œ ê²½ê³  ëª¨ë‹¬ -->
    <div id="session-warning-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ì„¸ì…˜ ë§Œë£Œ ê²½ê³ </h3>
            </div>
            <div class="modal-body">
                <p>ì„¸ì…˜ì´ ê³§ ë§Œë£Œë©ë‹ˆë‹¤. ê³„ì† ì‚¬ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                <div class="countdown" id="countdown">5:00</div>
            </div>
            <div class="modal-footer">
                <button id="extend-session-btn" class="btn btn-primary">ì„¸ì…˜ ì—°ì¥</button>
                <button id="close-modal-btn" class="btn btn-secondary">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <!-- ë¡œê·¸ì¸ ì„¤ì • ëª¨ë‹¬ -->
    <div id="login-settings-modal" class="modal hidden">
        <div class="modal-content setup-modal">
            <div class="modal-header">
                <div class="logo-container">
                    <img src="./images/logo3.png" alt="ê³ ë ¤ëŒ€í•™êµ ë¡œê³ " class="ku-logo">
                    <img src="./images/emblem4.png" alt="ê³ ë ¤ëŒ€í•™êµ ì— ë¸”ëŸ¼" class="ku-emblem">
                </div>
                <div class="slogan-container">
                    <img src="./images/kuni120-1.png" alt="ê³ ë ¤ëŒ€í•™êµ ìŠ¬ë¡œê±´" class="ku-slogan">
                </div>
            </div>
            <div class="modal-body">
                <form id="login-settings-form" class="setup-form">
                    <div class="form-group">
                        <label for="username">ì•„ì´ë””</label>
                        <input type="text" id="username" name="username" placeholder="ê³ ë ¤ëŒ€í•™êµ ì•„ì´ë””" required>
                    </div>
                    <div class="form-group">
                        <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="auto-login" name="autoLogin">
                            <span>ìë™ ë¡œê·¸ì¸</span>
                        </label>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="remember-credentials" name="rememberCredentials">
                            <span>ë¡œê·¸ì¸ ì •ë³´ ì €ì¥</span>
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer form-actions">
                <button id="save-login-settings-btn" class="btn btn-primary">ì €ì¥</button>
                <button id="clear-login-settings-btn" class="btn btn-danger">ì •ë³´ ì‚­ì œ</button>
                <button id="close-login-settings-btn" class="btn btn-secondary">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
